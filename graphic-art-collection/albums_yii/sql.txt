SELECT 
term_data.tid, 
term_data.name, 
term_data.description, 
term_data.weight,
term_hierarchy.parent
FROM term_data 
LEFT JOIN term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE vid=1;
-----------------------------
-- получить термины словаря таксономии (level 0)
SELECT 
	term_data.tid, 
	term_data.name, 
	term_data.description, 
	term_data.weight,
	term_hierarchy.parent
	FROM term_data 
LEFT JOIN 
	vocabulary ON vocabulary.name='галереи изображений'
LEFT JOIN 
	term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE 
	term_data.vid=vocabulary.vid AND term_hierarchy.parent=0
ORDER BY 
	term_data.weight;
---------------------

-- получить все дочернии термины 1
SELECT 
	term_data.tid, 
	term_data.name, 
	term_data.description, 
	term_data.weight,
	term_hierarchy.parent
FROM 
	term_data 
LEFT JOIN 
	term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE 
	term_hierarchy.parent IN
	(
		SELECT term_data.tid 
		FROM term_data 
		LEFT JOIN term_hierarchy ON term_hierarchy.tid=term_data.tid 
		WHERE term_data.vid=1 AND term_hierarchy.parent=0
	) 
ORDER BY term_hierarchy.parent, term_data.weight

=========================================================
1 var.

-- получить термины 1
SELECT 
	term_data.tid, 
	term_data.name, 
	term_data.description, 
	term_data.weight,
	term_hierarchy.parent
FROM 
	term_data 
LEFT JOIN 
	term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE 
	term_hierarchy.parent IN
	(
SELECT term_data.tid 
FROM term_data 
LEFT JOIN term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE term_hierarchy.parent=139
) 
ORDER BY term_hierarchy.parent, term_data.weight

------------------------
2 var
-- получить дочернии термины
SELECT 
	term_data.tid, 
	term_data.name, 
	term_data.description, 
	term_data.weight,
	term_hierarchy.parent
FROM 	term_data 
LEFT JOIN vocabulary ON vocabulary.name='галереи изображений'
LEFT JOIN term_hierarchy ON term_hierarchy.tid=term_data.tid 
WHERE	
	term_data.vid=vocabulary.vid 
AND 
	term_hierarchy.tid IN
	(
		SELECT term_hierarchy.tid 
		FROM term_hierarchy 
		WHERE term_hierarchy.parent=139
	)
ORDER BY term_data.weight

-------------------


