<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Расписание транспорта</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
	
	<meta charset="utf-8"/>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="-1">	
-->
	<meta name="referrer" content="no-referrer" />

	<link rel="shortcut icon" type="image/x-icon" href="res/favicons/favicon.ico"/>
	<link rel="mask-icon" sizes="any" href="res/favicons/mask-icon.svg" color="#f00"/>
	<link rel="icon" type="image/png" sizes="16x16" href="res/favicons/favicon-16x16.png"/>
	<link rel="icon" type="image/png" sizes="32x32" href="res/favicons/favicon-32x32.png"/>
	<link rel="icon" type="image/png" sizes="96x96" href="res/favicons/favicon-96x96.png"/>
	<link rel="apple-touch-icon" sizes="57x57" href="res/apple-touch-icon-57x57.png"/>
	<link rel="apple-touch-icon" sizes="60x60" href="res/favicons/apple-touch-icon-60x60.png"/>
	<link rel="apple-touch-icon" sizes="67x67" href="res/favicons/apple-touch-icon-76x76.png"/>
	<link rel="apple-touch-icon" sizes="72x72" href="res/favicons/apple-touch-icon-72x72.png"/>
	<link rel="apple-touch-icon" sizes="114x114" href="res/favicons/apple-touch-icon-114x114.png"/>
	<link rel="apple-touch-icon" sizes="120x120" href="res/favicons/apple-touch-icon-120x120.png"/>
	<link rel="apple-touch-icon" sizes="144x144" href="res/favicons/apple-touch-icon-144x144.png"/>
	<link rel="apple-touch-icon" sizes="152x152" href="res/favicons/apple-touch-icon-152x152.png"/>
	
	<link type="text/css" rel="stylesheet" href="css/lr.css">
	<link type="text/css" rel="stylesheet" href="css/custom.css">
	
	<script src="../../js/jquery.min.js"></script>
	<script src="js/functions.js"></script>
	<script src="js/schedule_app.js"></script>

	
<!--[if lt IE 9]>
	<script src="js/fix_IE/html5shiv.js"></script>
	<script src="js/fix_IE/respond.min.js"></script>
<![endif]-->
	
</head>

<body class="bg-darkblue-sea">
	
<div id="App" class="lr-container">
	
<!--
	<div class="lr-lr-page-header text-right">
		<h1 class="color-white">расписание транспорта</h1>
	</div>
-->

	<div class="lr-panel">
		<div id="tab-buttons" class="lr-padding-10">
			<ul class="lr-list-inline">
	<li>
<a class="tab-btn btn-active lr-padding-20 w10 color-white" 
href="?q=switch-tab&target_id=tab-transport">Транспорт</a>
	</li>

	<li>
<a class="tab-btn lr-padding-20 w10 color-white" 
href="?q=switch-tab&target_id=tab-weather">Погода</a>
	</li>
			</ul>
		</div>
		
		<div id="tab-content" class="lr-panel-body bg-grey-green">
			
			<div id="tab-transport" class="tab-pane tab-active lr-panel">
				
				<div class="lr-padding-20 bg-darkblue-green">
					<h1 class="color-white text-right">расписание транспорта</h1>
<div id="search-panel" class="lr-flex lr-flex-hstart">
	<div class="lr-margin-10">
		<input id="from-title" class="lr-padding-10" value=""/>
	</div>
	<div class="lr-margin-10">
<a href="?q=change-direction" class="lr-padding-20 bg-orange arrows" title="change direction"></a>
	</div>
	<div class="lr-margin-10">
			<input id="to-title" class="lr-padding-10" value=""/>
	</div>
	<div class="lr-margin-10">
<input id="date-widget" type="date" name="date_widget" class="lr-padding-10" value=""  max="" min="">
	</div>

	<div class="lr-margin-10">
<!--
	  <button id="btn-update" class="lr-btn lr-btn-danger">update</button>
-->
<a href="?q=send-request&api=transportAPI" class="send-request lr-btn bg-darkblue text-white">send ajax request</a>
	</div>
</div>
				</div>
				
				<div class="lr-margin-10-top">
<div class="bg-snow lr-border-box lr-border-cyan">
	<div class="lr-panel-body" id="block-schedule"></div>
</div>

				</div>
			</div><!-- end tab -->

			<div id="tab-weather" class="tab-pane lr-panel bg-snow">
				<div class="lr-lr-page-heading lr-padding-20 bg-darkblue-green">
<h1 class="color-white text-right">данные погоды и прогноз</h1>
<div>
	
	<div>
		<small>Latitude <mark>(широта), 90...-90 deg./град.</mark>:</small>
		<input name="latitude" type="text" class="lr-padding-10" value="55.038115899999994"/>
	</div>
	<div>
		<small>Longitude <mark>(долгота), -180...180 deg./град.</mark>:</small>
		<input name="longitude" type="text" class="lr-padding-10" value="83.0094459"/>
	</div>

	<a href="?q=send-request&api=weatherAPI" class="send-request lr-btn bg-darkblue text-white">получить данные</a>
</div>

				</div>
				<div class="lr-panel-body">
					
			<div id="response">
<div class="bg-lightsalmon lr-padding-20">
	<ul class="lr-list-unstyled">
		<li>now: <b>%now%</b>	<small>Время сервера в формате Unixtime. 	Число</small></li>
		<li>now_dt: <b>%now_dt%</b>	<small>Время сервера в UTC. 	Строка</small></li>
	</ul>
</div>

<div class="bg-grey-green lr-padding-20">
<!--
	<h3>info, Объект информации о населенном пункте.</h3>
-->
	<ul class="lr-list-unstyled lr-padding-small">
		<li>Широта: <b>%lat%</b></li>
		<li>Долгота: <b>%lon%</b></li>
		<li><a href="%url%"><small>Страница населенного пункта на сайте Яндекс.Погода.</small></a></li>
	</ul>
</div>

<div class="bg-lavender lr-padding-20">
	
<!--
	<h3>fact, Объект фактической информации о погоде.</h3>
	<p>Объект содержит информацию о погоде на данный момент.</p>
-->
	
<ul class="lr-list-group ">
	<li>Температура (°C): <b>%temp%</b></li>
	<li>Ощущаемая температура (°C): <b>%feels_like%</b></li>
	<li>Температура воды (°C): <b>%temp_water%</b></li>



	<div class="w5">
		<img src="https://yastatic.net/weather/i/icons/blueye/color/svg/%icon%.svg">
	</div>
	<li>condition: <b>%condition%</b>	
<small>Код расшифровки погодного описания. Возможные значения:</small>
<pre>
    clear — ясно.
    partly-cloudy — малооблачно.
    cloudy — облачно с прояснениями.
    overcast — пасмурно.
    drizzle — морось.
    light-rain — небольшой дождь.
    rain — дождь.
    moderate-rain — умеренно сильный дождь.
    heavy-rain — сильный дождь.
    continuous-heavy-rain — длительный сильный дождь.
    showers — ливень.
    wet-snow — дождь со снегом.
    light-snow — небольшой снег.
    snow — снег.
    snow-showers — снегопад.
    hail — град.
    thunderstorm — гроза.
    thunderstorm-with-rain — дождь с грозой.
    thunderstorm-with-hail — гроза с градом.
</pre>
	</li>

	<li>Скорость ветра (в м/с): <b>%wind_speed%</b></li>
	<li>Скорость порывов ветра (в м/с): <b>%wind_gust%</b></li>
	<li>Направление ветра: <b>%wind_dir%</b>	
<small>Возможные значения:</small>
<pre>
    «nw» — северо-западное.
    «n» — северное.
    «ne» — северо-восточное.
    «e» — восточное.
    «se» — юго-восточное.
    «s» — южное.
    «sw» — юго-западное.
    «w» — западное.
    «с» — штиль.
</pre>
	</li>
	
	<li>Давление: <b>%pressure_mm%</b>мм рт. ст.</li>
<!--
	<li>pressure_pa: <b>%pressure_pa%</b>	<small>Давление (в гектопаскалях). 	Число</small></li>
-->
	<li>Влажность воздуха: <b>%humidity%</b>%</li>

	<li>время суток: <b>%daytime%</b><small> Возможные значения:</small>
<pre>
    «d» — светлое время суток.
    «n» — темное время суток.
</pre>
	</li>
	
<!--
	<li>polar: <b>%polar%</b>	<small>Признак того, что время суток, указанное в поле daytime, является полярным. 	Логический</small></li>
-->
	<li>Время года: <b>%season%</b>	
<small>Возможные значения:</small>
<pre>
    «summer» — лето.
    «autumn» — осень.
    «winter» — зима.
    «spring» — весна.
</pre>
	</li>
	
	<li>Время замера погодных данных: <b>%obs_time%</b>	<small></small></li>
	
</ul>
</div>


<div class="bg-lavenderblush lr-padding-20">
	<h3>forecast, Объект прогнозной информации о погоде.</h3>
	<p>Объект содержит данные прогноза погоды.</p>
	
	<ul class="lr-list-unstyled color-black">
		<li>date: <b>%date%</b>	<small>Дата прогноза в формате ГГГГ-ММ-ДД. 	Строка</small></li>
		<li>date_ts: <b>%date_ts%</b>	<small>Дата прогноза в формате Unixtime. 	Число</small></li>
		<li>week: <b>%week%</b>	<small>Порядковый номер недели. 	Число</small></li>

		<li>sunrise: <b>%sunrise%</b>	<small>Время восхода Солнца, локальное время (может отсутствовать для полярных регионов). 	Строка</small></li>
		<li>sunset: <b>%week%</b>	<small>Время заката Солнца, локальное время (может отсутствовать для полярных регионов). 	Строка</small></li>
		<li>moon_code: <b>%moon_code%</b>	
<small>Код фазы Луны. Возможные значения:</small>
<pre>
    0 — полнолуние.
    1-3 — убывающая Луна.
    4 — последняя четверть.
    5-7 — убывающая Луна.
    8 — новолуние.
    9-11 — растущая Луна.
    12 — первая четверть.
    13-15 — растущая Луна.
</pre>
		</li>
		
		<li>moon_text: <b>%moon_text%</b>	
<small>Текстовый код для фазы Луны. Возможные значения:</small>
<pre>
    moon-code-0 — полнолуние.
    moon-code-1 — убывающая луна.
    moon-code-2 — убывающая луна.
    moon-code-3 — убывающая луна.
    moon-code-4 — последняя четверть.
    moon-code-5 — убывающая луна.
    moon-code-6 — убывающая луна.
    moon-code-7 — убывающая луна.
    moon-code-8 — новолуние.
    moon-code-9 — растущая луна.
    moon-code-10 — растущая луна.
    moon-code-11 — растущая луна.
    moon-code-12 — первая четверть.
    moon-code-13 — растущая луна.
    moon-code-14 — растущая луна.
    moon-code-15 — растущая луна.
</pre>
		</li>
		
		<li>
			<div class="lr-padding-20 bg-palegreen2">
%forecast_part0%
			</div>			
		</li><!-- end parts info -->
	</ul>
</div><!-- end forecast info -->
			</div><!-- end response block -->
			

<div id="forecast-parts-0">
	<ul  class="lr-list-group bg-lightgreen2 color-black">
<h4>parts 	Прогнозы по времени суток.</h4>
<p>Все прогнозы погоды на время суток имеют одинаковый набор полей.
Ответ содержит прогноз на 2 ближайших периода.</p>

		<li>part_name: <b>%part_name%</b>	
			<small>Название времени суток. Возможные значения:</small>
<pre>
night — ночь.
morning — утро.
day — день.
evening — вечер.
</pre>
		</li>
		<li>temp_min: <b>%temp_min%</b>	<small>Минимальная температура для времени суток (°C). 	Число</small></li>
		<li>temp_max: <b>%temp_max%</b>	<small>Максимальная температура для времени суток (°C). 	Число</small></li>
		<li>temp_avg: <b>%temp_avg%</b>	<small>Средняя температура для времени суток (°C). 	Число</small></li>
		<li>feels_like: <b>%feels_like%</b>	<small>Ощущаемая температура (°C). 	Число</small></li>

		<li>icon: <img src="https://yastatic.net/weather/i/icons/blueye/color/svg/%icon%.svg"></li>
		
		<li>condition: <b>%condition%</b>	
<small>Код расшифровки погодного описания. Возможные значения:</small>
<pre>
clear — ясно.
partly-cloudy — малооблачно.
cloudy — облачно с прояснениями.
overcast — пасмурно.
drizzle — морось.
light-rain — небольшой дождь.
rain — дождь.
moderate-rain — умеренно сильный дождь.
heavy-rain — сильный дождь.
continuous-heavy-rain — длительный сильный дождь.
showers — ливень.
wet-snow — дождь со снегом.
light-snow — небольшой снег.
snow — снег.
snow-showers — снегопад.
hail — град.
thunderstorm — гроза.
thunderstorm-with-rain — дождь с грозой.
thunderstorm-with-hail — гроза с градом.
</pre>
		</li>
		<li>daytime: <b>%daytime%</b>	
<small>Светлое или темное время суток. Возможные значения:</small>
<pre>
    «d» — светлое время суток.
    «n» — темное время суток.
</pre>
</li>
		<li>polar: <b>%polar%</b>	<small>Признак того, что время суток, указанное в поле daytime, является полярным. 	Логический</small></li>

		<li>wind_speed: <b>%wind_speed%</b>	<small>Скорость ветра (в м/с). 	Число</small></li>
		<li>wind_gust: <b>%wind_gust%</b>	<small>Скорость порывов ветра (в м/с). 	Число</small></li>
		<li>wind_dir: <b>%wind_dir%</b>	
<small>Направление ветра. Возможные значения:</small>
<pre>
«nw» — северо-западное.
«n» — северное.
«ne» — северо-восточное.
«e» — восточное.
«se» — юго-восточное.
«s» — южное.
«sw» — юго-западное.
«w» — западное.
«с» — штиль.
</pre>
</li>
		<li>pressure_mm: <b>%pressure_mm%</b>	<small>Давление (в мм рт. ст.). 	Число</small></li>
		<li>pressure_pa: <b>%pressure_pa%</b>	<small>Давление (в гектопаскалях). 	Число</small></li>
		<li>humidity: <b>%humidity%</b>	<small>Влажность воздуха (в процентах). 	Число</small></li>
		<li>prec_mm: <b>%prec_mm%</b>	<small>Прогнозируемое количество осадков (в мм). 	Число</small></li>
		<li>prec_period: <b>%prec_period%</b>	<small>Прогнозируемый период осадков (в минутах). 	Число</small></li>
		<li>prec_prob: <b>%prec_prob%</b>	<small>Вероятность выпадения осадков. 	Число</small></li>
	</ul>

	</div><!-- end forecast-parts-0 -->
			
				</div>
			</div><!-- end tab -->
			

		</div><!-- end tab-content -->
	</div><!-- end panel -->
	

	<div class="log-panel panel">
		<div class="float-right">
			<a href="?q=toggle-log" title="Toggle log" class="lr-btn lr-btn-default">-</a>
			<a href="?q=clear-log" title="Clear log" class="lr-btn lr-btn-default">x</a>
		</div>
		<div id="log" class="lr-panel-body lr-row"></div>
	</div>

</div><!-- end App container -->


<footer class="lr-container">
	<div class="lr-padding-10 bg-grey-green">
		<div class="lr-panel bg-whitesmoke">
			<span id="block-copyright"></span>			
		</div>

		<div class="lr-padding-small bg-floralwhite">
			<ul class="list-inline">
	<li><a href="v1/app.html" target="_blank">shedule app, version 1, ajax js request</a></li>
	<li><a href="https://rasp.yandex.ru/search/suburban/?fromName=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D0%B8%D0%B1%D0%B8%D1%80%D1%81%D0%BA-%D0%B2%D0%BE%D1%81%D1%82%D0%BE%D1%87%D0%BD%D1%8B%D0%B9&toName=%D0%A0%D0%B0%D0%B7%D0%B4%D0%BE%D0%BB%D1%8C%D0%B5+(3362+%D0%BA%D0%BC)&fromId=s9610190&toId=s9610235&when=26+%D0%B0%D0%BF%D1%80%D0%B5%D0%BB%D1%8F&gone=y" target="_blank">yandex.ru</a></li>
	<li><a href="https://api.rasp.yandex.net/v3.0/search/?from=851508&to=851635&apikey=b07a64bc-f237-4e79-9efb-b951ec68eaf7&date=2019-04-26&transport_types=suburban&system=esr&show_systems=esr" target="_blank">api.rasp.yandex.net, JSON</a></li>
	<li><a href="https://developer.tech.yandex.ru/services/4/" target="_blank">developer.tech.yandex.ru, Кабинет разработчика</a></li>
			</ul>
				
		</div>
	</div>
</footer>

<!-- ********************** load progress bar ************************** -->	
<div id="wait" class="hide"></div>

<div class="dm-overlay" id="win1">
    <div class="dm-table">

        <div class="dm-cell">
            <div class="dm-modal">
                <h1 class="text-center">wait...</h1>

				<div class="loader loader2"></div> 
<div id="load-progress">				
ajax load: <span id="num-total-load"></span>
	<div class="progress">
		<div id="load-progress-bar" class="progress-bar hide"></div>
	</div>
</div>
<!--
prepare data:
	<div class="progress">
		<div id="parse-progress-bar" class="progress-bar"></div>
	</div>
-->
			</div>
		</div>

    </div>
</div>


</body>
</html>
