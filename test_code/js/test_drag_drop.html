<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../../css/bootstrap335.min.css">
<!--	
	<script src="http://code.jquery.com/jquery-latest.js"></script>
-->	
<script>
if (!window.console){ console = {log: function() {}} };

	//test support
	var test_draganddrop = function() {
		var div = document.createElement('div');
		return ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);
	};
console.log("Browser supports HTML5: ",  test_draganddrop() );

window.onload = function(){

	document.querySelector("#testRes").innerHTML = test_draganddrop();
	
	if( document.querySelector){
		var drop = document.querySelector("#drop");
		var img1 = document.querySelector("#img1");
		var img2 = document.querySelector("#img2");
	} else {
		var drop = document.getElementById('drop');
		var img1 = document.getElementById('img1');
		var img2 = document.getElementById('img2');
	}

	
	drop.ondrop = function (event) {
		event = event || window.event;//for old IE
for( var item in event)
{
console.log(item, event[item]);
}
        this.innerHTML += '<p>' + event.dataTransfer.getData('Text') + '</p>';
		return false;//for FF
    };
	
	drop.ondragover = function () { return false; };	
	drop.ondragenter = function () { return false; };	//for old IE
	
	img1.ondragstart = function (event) {
console.log("img1.ondragstart");	
        event = event || window.event;//for old IE
        event.dataTransfer.setData('Text', this.getAttribute('alt'));//for old IE
    };
	img2.ondragstart = function (event) {
        event = event || window.event;//for old IE
        event.dataTransfer.setData('Text', this.getAttribute('src'));//for old IE
    };
	
}//end load
</script>
</head>

<body>

<div class="container">
	<div class="page-header">
		<h1>test drag and drop</h1>
	</div>
	<h3>Browser supports HTML5: <span id="testRes"></span></h3>

	<div class="panel panel-primary">
		<pre>
https://learn.javascript.ru/drag-and-drop
Мышь: Drag'n'Drop

https://learn.javascript.ru/drag-and-drop-objects
Drag'n'Drop объекты

https://www.html5rocks.com/ru/tutorials/dnd/basics/
------
mousedown
mousemove
mouseup

    dragstart
    drag
    dragenter
    dragleave
    dragover
    drop
    dragend

		</pre>	

	</div>

	<div class="panel panel-primary">
		<div class="panel-body" >
<style>
.column {
  height: 150px;
  width: 150px;
  float: left;
  border: 2px solid #666666;
  background-color: #ccc;
  margin-right: 5px;
  -webkit-border-radius: 10px;
  -ms-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  -webkit-box-shadow: inset 0 0 3px #000;
  -ms-box-shadow: inset 0 0 3px #000;
  box-shadow: inset 0 0 3px #000;
  text-align: center;
  cursor: move;
}		
</style>
			<div id="columns" >
			  <div class="column" draggable="true"><header>A</header></div>
			  <div class="column" draggable="true"><header>B</header></div>
			  <div class="column" draggable="true"><header>C</header></div>
			</div>	
			
		</div>
	</div><!-- end panel -->
	
	<div class="panel panel-primary">
		<pre>
Реми Шарп.Изучаем HTML5. Библиотека специалиста. 2-е издание
------
		</pre>	

<img id="img1" src="http://jquery-drag-and-drop.ssdtutorials.com/images/01.jpg" alt="@rem" />
<img draggable="false" id="img2" src="http://jquery-drag-and-drop.ssdtutorials.com/images/02.jpg" alt="@brucel" />		

		<div id="drop">drop here</div>
<!--
<div dropzone=”copy s:text/plain f:image/png”> Drop ‘em on my head </div>
-->		
	</div><!-- end panel -->
	
	
</div><!-- end container -->

</body>
</html>