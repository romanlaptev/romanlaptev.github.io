<!DOCTYPE html>
<html lang="ru">
<head>
	<title>test JS: Cache & Service Worker</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css/bootstrap335.min.css">
<style>
.bg-primary {
	color: inherit;
}
.log-panel {
    margin-bottom: 0;
    margin-top: 5px;
background-color: #b0c4de;
}

.log-panel .panel-body{
	padding: 5px;
}

.log-panel span a{
text-decoration:none;
outline: none;
}
#log .alert {
margin-bottom: 0;
padding: 10px;
}

#log p{
margin: 0;
}

.alert-warning {
	color: #000;
	background-color: #ffb515;
	/*border-color: #8a6d3b;*/
}

</style>
</head>

<body class="bg-primary">
	<div class="container">

		<div class="page-header">
			<h1>test Cache & Service Worker</h1>
		</div>
		
		<div class="log-panel panel">
			<div class="panel-body">
				<span class="pull-right">
					<a id="btn-clear-log" href="#" title="Clear log" class="btn btn-sm btn-default">x</a>
				</span>
				<div id="log" class="panel-body"></div>
			</div>
		</div>
		
		<div class="panel">
			<div class="panel-body">
				object cache name: <input id="cache-name" type="text" class="form-conrol" value="" autocomplete="off"/>
			</div>
			<div class="panel-body">
				<button id="btn-put-cache" class="btn btn-info">put resources into object cache</button>
				<button id="btn-list-caches" class="btn btn-primary">list cache objects</button>
				<button id="btn-delete-cache" class="btn btn-danger">delete cache, CacheStorage.delete()</button>
			</div>
			<div class="panel-body">
				<button id="btn-list-cache-keys" class="btn btn-primary">list cache keys, CacheStorage.keys()</button>
				<button id="btn-delete-key" class="btn btn-danger">delete key into object cache</button>
			</div>
		</div>
<!--
CacheStorage.match()
    Проверяет, является ли данный Request ключом в любом из объектов Cache, отслеживаемых объектом CacheStorage, и возвращает Promise, который успешно завершится, когда найдет совпадение.
CacheStorage.has()
    Возвращает Promise, который успешно завершится и вернет true, если объект Cache содержит кеш с установленным cacheName.
CacheStorage.open()
    Возвращает Promise, который успешно завершится, когда объект Cache найдет необходимый объект с cacheName (если такого нет, то создаст новый).
CacheStorage.delete()
    Находит объект Cache, соответствующий cacheName, и, если такой обнаружен, удаляет объект Cache и возвращает Promise, завершающийся с true. Если объект Cache не найдет, то возвращается false.
CacheStorage.keys()
Возвращает Promise, который вернет массив, содержащий строки, соответствующие всем именованым объектам Cache, отслеживаемым CacheStorage. Используйте этот метод для прохода по списку всех объектов Cache.
-->
		<pre>
https://caniuse.com/#search=Service%20Workers
		
https://developer.mozilla.org/ru/docs/Web/API/Service_Worker_API/Using_Service_Workers
https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API#Interfaces
https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage

http://prgssr.ru/development/sozdaem-service-worker.html
Пошаговое руководство по созданию сервис-воркера для офлайн-версии сайта. Перевод статьи Лизы Денжер Гарднер.

https://css-tricks.com/serviceworker-for-offline/
https://mobiforge.com/design-development/taking-web-offline-service-workers
		</pre>
		
	</div><!-- end container -->

<script src="js/functions.js"></script>
<script src="js/main.js"></script>

</body>
</html>