<html>
<head>
<title>test scroll</title>

<script src="https://code.jquery.com/jquery-latest.js"></script>	

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">	
<!--
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>	
-->
<style>
body
{
	background:#0A2B1D;
	color:#ffffff;
margin:0;
}
.main-container
{
	background:#316140;
}
.main-container .row
{
	height:200px;
}

#scroll-block
{
background: none repeat scroll 0 0 #96dd3b;
height: 200px;
width: 200px;
}
.sale-fixed
{
position: fixed;
left: 50%;
margin-left: -100px;
top: 30%;
}

.action-block
{
	background:gold;
	color:#000000;
}
#action
{
/*min-height:0;*/
}
</style>

<script>
$(document).ready(
	function() 
	{
		$("#scroll-block").hide();

console.log( "HTML-page height = " + $(document).height() );
console.log( "viewport height = " + $(window).height() );
console.log ("action offset left = " + $("#action").offset().left );
console.log ("action offset top = " + $("#action").offset().top );

/*
//http://www.cyberforum.ru/javascript-jquery/thread167769.html
        if (self.innerHeight) { // all except Explorer
                windowWidth = self.innerWidth;
                windowHeight = self.innerHeight;
        } else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
                windowWidth = document.documentElement.clientWidth;
                windowHeight = document.documentElement.clientHeight;
        } else if (document.body) { // other Explorers
                windowWidth = document.body.clientWidth;
                windowHeight = document.body.clientHeight;
        }
*/
var windowWidth, windowHeight;
windowHeight = document.body.clientHeight;
console.log("windowHeight = " + windowHeight);
//------------------------
		var start_scroll_pos = $(document).height() / 2;
console.log ("start_scroll_pos = " + start_scroll_pos );
		var end_scroll_pos = $("#action").offset().top - (windowHeight / 2);
console.log ("end_scroll_pos = " + end_scroll_pos );

		$(window).scroll(function() {
var st = $(window).scrollTop();
document.title = st;
//console.log ("scrollTop = " + st );

			if ( ($(this).scrollTop() > start_scroll_pos ) && 
					($(this).scrollTop() < end_scroll_pos) ) 
			{
				$("#scroll-block").show();
				$("#scroll-block").addClass("sale-fixed");
			} 
			else 
			{
				$("#scroll-block").hide();
				$("#scroll-block").removeClass("sale-fixed");
			}

		});


	}
);
</script>

</head>

<body>

<div class="main-container container">
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-6 action-block" id="action">
			<h1>Action!</h1>
		</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>
	<div class="row">
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
		<div class="col-md-3">1</div>
	</div>


<div id="scroll-block">
<a class="pull-right" href="#" class="close">x</a>

action text

</div>

</div>

</body>
</html>
