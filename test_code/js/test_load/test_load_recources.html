<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script>
if( typeof window.jQuery !== "function")
{
	var message = "jQuery load error, https://code.jquery.com/jquery-latest.js " + window.jQuery + ", ....loading local jQuery.....";
	document.write('<h2>' +message+ '</h2>');
	document.write('<script src="../../js/jquery/lib/jquery-1.10.0.js"><\/script>');
}
</script>

<script>
window.onload = function(){

	//loading of resources
	var img1 = new Image ();
	img1.src = 'http://www.google.ru/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png';	
	//document.body.appendChild ( img1 );
	document.getElementById("insert_data").appendChild ( img1 );

//-----------------	
	var script = document.createElement('script');
	script.src = "js/test.js";

	document.body.appendChild(script);
	//document.getElementsByTagName('head')[0].appendChild(script);

	script.onload = function() {
		alert( "onload " + this.src);
	  }
	script.onerror = function() {
		//alert( "onerror " + this.src );
		var message = "load error: " + this.src;
		document.getElementById("log").innerHTML += "<h2>" +message+ "</h2>";
	};  

//------------------
	//https://learn.javascript.ru/onload-onerror
	var uikit = document.createElement('link');
	uikit.rel = "stylesheet";
	uikit.type = "text/css";
	uikit.href = "https://cdnjs.cloudflare.com/ajax/libs/uikit/2.0.0/css/uikit.min.css";
	//uikit.href = "css/uikit.min.css";
	document.body.appendChild(uikit);

	uikit.onload = function() {
		//alert("uikit.onload");
		var message = "uikit.onload success: " + this.href;
		document.getElementById("log").innerHTML += "<h2>" +message+ "</h2>";
	}
	
	uikit.onerror = function() {
		//alert( "load error: " + this.href );
		var message = "load error: " + this.href;
		document.getElementById("log").innerHTML += "<h2>" +message+ "</h2>";
	};

	
};//end window.load	
</script>

</head>

<body>

	<div class="container">
		<div class="page-header">
			<h1>test load external resources</h1>
		</div>
	
		<div id="insert_data" class="row panel"></div>
		<div id="log" class="row panel"></div>

		<pre>
//Динамическая подгрузка файлов CSS		
//http://tftf.ru/stati/javascript/dinamicheskaya_podgruzka_fajlov_css_javascript/
	var pirobox_style = document.createElement('link');
	pirobox_style.setAttribute("rel", "stylesheet");
	pirobox_style.setAttribute("type", "text/css");
	pirobox_style.setAttribute("href", "themes/gravura/js/pirobox/pirobox.css");
	document.getElementsByTagName("head")[0].appendChild(pirobox_style);
		</pre>
		
<pre>
https://qna.habr.com/q/220124
Предварительная загрузка изображений 

function preloadImages() {
  for (var i = 0; i < arguments.length; i++) {
    new Image().src = arguments[i];
  }
}

preloadImages(
  "images-1.jpg",
  "images-2.jpg",
  "images-3.jpg"
);
</pre>

	</div><!-- end container -->

</body>
</html>
